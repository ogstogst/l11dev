ドキュメント：[本家サイト](https://laravel.com/docs/11.x/blade#components) [日本語](https://readouble.com/laravel/11.x/ja/blade.html#components)

Laravel では、HTML の一部などをパーツ化して使い回せるようにするコンポーネントという機能があります。フロントエンドでもお馴染みの機能です。実は、Laravel は古くからコンポーネントの機能をサポートしていましたが、現在の主流のタグ形式のコンポーネントは、Laravel Ver.7 から登場しました。それ以前は、ディレクティブ形式（例：`@component(xxx)`）が利用されていましたが、現在こちらはドキュメントからは姿を消しています。検索エンジンなどで検索すると、未だディレクティブ形式のコンポーネントの紹介が結構ヒットしますのでご注意下さい。以後、コンポーネントと記した時は、現在主流のタグ形式のコンポーネントを指す事とします。

## タグ形式のコンポーネント
タグ形式とは、`<x-alert> ～ </x-alert>` 又は、`<x-alert />` などの形式を指します。
この形式のコンポーネントを利用するには、2通りの方法があります。

1. 匿名コンポーネント … 簡単なコンポーネント向け
2. クラスベースのコンポーネント … 少し込み入ったコンポーネント向け（DBを使ったり等）

## コンポーネント側にある2つの概念

### 属性
HTMLの属性の事
### データのプロパティ（変数）
コンポーネント内で使える変数の事

## 匿名コンポーネント
簡単なコンポーネント向けです。
以下、特徴です。
- view ファイルのみ使う（クラスファイルは使わない）
- @props() で定義するとデータのプロパティとなり、定義しないものは属性となる
- （注意）2単語から成る単語を渡したい場合は、ケバブケースで渡す事（利用時はキャメルケース）

まずは基礎事項を以下を使って確認してみましょう。

welcome.blade.php
```html
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>タイトル</title>
</head>
<body>

<x-person name="太郎" my-age="35" />

</body>
</html>
```

views/components/person.blade.php
```html
@props([
	'myAge',
])

<div {{ $attributes }}>
	<h1>{{ $name ?? '無し' }}</h1>
	<h1>{{ $myAge ?? '無し' }}</h1>
</div>
```

`<x-person ...>` というように `<x-` から始まるタグは、コンポーネントの合図です。
ここでは匿名コンポーネントの為、`views/components` 以下のディレクトリからファイルが自動で検出されます。
もし階層化する場合は、`.` 繋ぎで書きます。（例：`<x-admin.person ...>`）

### データの渡し方
上記では固定値のデータをコンポーネントに渡していました。もし、変数に格納されたデータを渡す場合は、以下のようにやります。

なお、ここで見るデータの渡し方は、クラスベースのコンポーネントでも同様です。

```html
@php
$colors = ['red', 'blue', 'green'];
@endphp

<x-person name="太郎" my-age="35" :colors="$colors" />

<x-person name="太郎" my-age="35" :$colors />  <!-- 更に簡潔にも書けます -->
```

### HTML などの複数行データの渡し方
HTML などの複数行データは、タグの間に挟めば、OKです。コンポーネント側で利用する際は、`{{ $slot }}` と記述します。

welcome.blade.php
```html
<x-person name="太郎" my-age="35">

こんにちは、世界。<br>
今日は晴れです。

</x-person>
```

views/components/person.blade.php
```html
@props([
	'myAge',
])

<div {{ $attributes }}>
	<h1>{{ $name ?? '無し' }}</h1>
	<h1>{{ $myAge ?? '無し' }}</h1>

	{{ $slot }}

</div>
```

#### 複数の複数行データを扱いたい時
もし、複数の複数行データを渡したい時は、メイン以外のものに名前を付けて以下のようにします。

welcome.blade.php
```html
<x-person name="太郎" my-age="35">

  <x-slot name="sidebar">
    サイドバー<br>
    サイドバー
  </x-slot>

こんにちは、世界。<br>
今日は晴れです。

</x-person>
```

views/components/person.blade.php
```html
@props([
	'myAge',
])

<div {{ $attributes }}>
	<h1>{{ $name ?? '無し' }}</h1>
	<h1>{{ $myAge ?? '無し' }}</h1>

	<aside>
		{{ $sidebar }}
	</aside>

	{{ $slot }}

</div>
```

上記の `<x-slot name="sidebar">` の箇所は、`<x-slot:sidebar>` と書く事もできます。

