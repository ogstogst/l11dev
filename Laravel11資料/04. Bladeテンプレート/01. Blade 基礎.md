ドキュメント：[本家サイト](https://laravel.com/docs/11.x/blade) [日本語](https://readouble.com/laravel/11.x/ja/blade.html)

Laravel では独自の Blade と呼ばれるテンプレートエンジンを使用しています。便利で多数用意されたディレクティブを使用して、処理を簡潔に記述することができます。
Blade を使用する際は、拡張子は、`.blade.php` とします。

以下は、最も基本的なものです。

```php
// $value をエスケープして出力する
{{ $value }}

// $value をエスケープしないで出力する
{!! $value !!}

// コメントの記載
{{-- ここはコメント扱い（HTML には出力されない） --}}

// CSRF トークンのタグを出力する
@csrf
```

補足：`{{ $xxx }}` のエスケープの記述は、Laravel が提供する機能の一部では、実際はエスケープはしないものもあります。（コンポーネントで見る `{{ $slot }}` など）

以下では、よく使うディレクティブを紹介させていただきます。

```php
@if (条件)
　～
@elseif (条件)
　～
@else
　～
@endif

@unless (条件) ～ @endunless
@isset(変数) ～ @endisset
@empty(変数) ～ @endempty
@auth ～認証済みです～ @endauth
@guest ～まだ未認証です～ @endguest
@env('local') ～開発環境～ @endenv

@for ($i = 0; $i < 10; $i++)
 {{ $i }}
@endfor

@foreach ($users as $user)
  {{ $user->name }}
@endforeach

@forelse ($users as $user)
  {{ $user->name }}
@empty
  データはありません。
@endforelse

// バリデーションエラーを個別に表示
@error('email')
    <div>{{ $message }}</div>
@enderror

// PHPのコードを記述する
@php
 ～
@endphp

// 条件が true の時、'checked' を出力する
<input type="checkbox" name="fruit" value="apple" @checked(条件) />

// 条件が true の時、'selected' を出力する（他にも @disabled(条件) なども）
<option value="abc" @selected(条件) />
```

#### foreach() 内で使える特別な変数
以下のような変数が使えます。（他にもある）
```php
$loop->index  // 0スタート
$loop->iteration  // 1スタート
$loop->first  // 最初のデータか
$loop->last  // 最後のデータか
```

#### @include()
指定のファイルをインクルードする機能です。共通のパーツを読み込んだりするのに便利です。
次回以降に見るコンポーネントとは異なり、`@include` はこれと言った機能はありません。
第1引数で指定した view ファイル名を読み込んで出力するのが基本機能です。
第2引数を使って特定のデータを渡す事もできます。但し、呼び出し元で使える変数は、include ファイル側でも使用できます。

```php
// 指定のファイル（resources/views/ 以降を指定）をインクルードする
@include('view.name')

@include('view.name', ['name' => '与太郎'])
```

他にも幾つかのバリエーションが存在します。`@includeIf` `@includeWhen` `@includeUnless` `@includeFirst`

## ブレードファイルのキャッシュについて
Blade ファイルはキャッシュされます。ファイルのタイムスタンプが新しくなると、キャッシュも更新されます。

もしキャッシュがクリアされない場合は、コマンド `php artisan view:clear` で消せます。
手動で消す場合は、storage/framework/views/ のフォルダで、.gitignore 以外のファイルを全部削除します。
