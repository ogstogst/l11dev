ドキュメント：[本家サイト](https://laravel.com/docs/11.x/blade#components) [日本語](https://readouble.com/laravel/11.x/ja/blade.html#components)

クラスベースのコンポーネントは、データベースにアクセスしたり等、少し複雑になる場合に利用すると良いでしょう。

以下、クラスベースのコンポーネントの特徴です。
- 専用のクラスファイルと view ファイルを使う
- コンストラクタで定義すると「属性」ではなくなる
- 上記の際、public なプロパティを定義すると、それは自動で view に渡る（view で使えるようになる）
- （注意）2単語から成る単語を渡したい場合は、ケバブケースを使う事（利用時はキャメルケース）
- （注意）コンストラクタを更新した後は、呼び出し側 view ファイルを必ず更新する事（又は、`php artisan view:clear`）（エラーが出たり、期待する動作でなくなったりします）


```bash
php artisan make:component ScoreBoard
```

上記のコマンドで、app/View/Components/ScoreBoard.php クラスと views/components/score-board.blade.php の 2 ファイルが生成されます。

welcome.blade.php
```html
<x-score-board name="太郎" my-age="35" />
```

app/View/Components/ScoreBoard.php
```php
class ScoreBoard extends Component
{
    public function __construct(public string $name)
    {
        //
    }

    public function render(): View|Closure|string
    {
        return view('components.score-board');
    }
}
```

クラスの `render()` メソッドにて、対応する view ファイルを指定した上で `return` しています。

views/components/score-board.blade.php
```html
<div {{ $attributes }}>
	<h1>{{ $name ?? '無し' }}</h1>
	<h1>{{ $myAge ?? '無し' }}</h1>
</div>
```

### クラス内で生成したデータを変数として渡す場合
以下のいずれかの方法にします。
- public なプロパティで定義する
- view() の第2引数に直接渡す

app/View/Components/ScoreBoard.php
```php
class ScoreBoard extends Component
{
    public string $title = 'スコアボード';

    public function __construct(public string $name)
    {
        //
    }

    public function render(): View|Closure|string
    {
        return view('components.score-board', [
            'date' => today()->format('Y-m-d')
        ]);
    }
}
```

views/components/score-board.blade.php
```html
<div {{ $attributes }}>
    <h1>{{ $title }} / {{ $date }}</h1>

    <h1>{{ $name ?? '無し' }}</h1>
	<h1>{{ $myAge ?? '無し' }}</h1>
</div>
```

