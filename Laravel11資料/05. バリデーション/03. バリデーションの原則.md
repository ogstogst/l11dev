バリデーションの原則について見て行きます。その2は、少し小難しく感じるかと思いますが、その際は気にしなくて大丈夫です。

## 原則その1
基本は、必須の時には `requierd` を必ず付け、必須ではない時は `nullable` を付けます。（例外は除く）

やってはいけない例：
```php
$request->validate([
	'name' => ['required', 'string', 'max:255'],
	'email' => ['string', 'lowercase', 'email', 'max:255'],
]);
```

上記では、`email` から `required` をカットしています。それでも形式チェックは走るので、メールアドレスを空で送ってもエラーとなります。
なので、結果的に必須も兼ねているとだろう、、と思うのは、NGです。

問題点としては、
1. 項目をカットされると、必須を回避される。
2. バグで必須が解除される。

確認用コード
```php
// メールアドレスを小文字にする加工を施す
$request->merge([
    'email' => strtolower($request->input('email')),
]);

$request->validate([
    'name' => ['required', 'string', 'max:255'],
    'email' => ['string', 'lowercase', 'email:filter', 'max:255'],
]);
```

どうしてこういう事になるのか？

## 原則その2
バリデーション用メソッドは数多くありますが、多くは以下の2種類に分けられます。（ここでは細かい例外は除きます）

1. 必須系
2. 一般系

### 必須系
とにかくチェックが走ります。`required`, `filled`, `accepted` などの存在チェック系が該当します。

### 一般系
必須系以外のメソッドです。上記で見た `string`, `lowercase`, `email`, `max` など。こちらは、チェックが走るための下記の条件があります。

1. 入力がある時は、チェックは走る（既に必須系でエラーが出ている時は除く）
2. 項目は存在して、値が null の場合（＝テキスト入力を空で送信した場合）、チェックは走る。（但し、'nullable' の指定があれば走らない）
3. 項目が存在しない場合や空文字列の場合、チェックは走らない。

Laravel では、ユーザーが空で入力したものは、空文字列ではなく、null で取得されます。
（`ConvertEmptyStringsToNull` ミドルウェアが適用される為）