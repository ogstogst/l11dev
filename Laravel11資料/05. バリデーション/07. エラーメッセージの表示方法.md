ドキュメント：[本家サイト](https://laravel.com/docs/11.x/validation#quick-displaying-the-validation-errors) [日本語](https://readouble.com/laravel/11.x/ja/validation.html#quick-displaying-the-validation-errors)

バリデーションに失敗した後、通常の POST 送信であれば、入力画面にリダイレクトされ、そこでエラーメッセージを出力することになります。又は、AJAX 通信でデータ送信した場合で、適切なヘッダー（`"X-Requested-With": "XMLHttpRequest"` 等）が設定してある場合は、Laravel は、エラー情報を JSON データで返却します。

## 通常の POST 送信時のエラー表示
エラー表示は、画面上部で一気にエラーを表示する方法と各入力項目の下部などに表示する方法の2パターンあります。

画面上部で一気にエラー表示する場合は、以下の感じになります。
```php
@if($errors->any())
    <ul style="color: red">
    @foreach($errors->all() as $error)
        <li>{{ $error }}</li>
    @endforeach
    </ul>
@endif
```

各項目の下部などに表示する場合は、以下の感じです。
```php
@error('email')
    <div>{{ $message }}</div>
@enderror
```

上記は、メールアドレスに関するエラーを表示させています。このやり方の場合、指定の項目に複数のエラーが発生していても、最初のエラーのみしか表示しません。

### $errors 変数
`$errors` 変数は、特別な変数で、どのテンプレートファイルでも共通で使えるようになっています。（ミドルウェアで実現されています）

## AJAX 通信の場合
以下のような JSON データが返却されます。

```json
{
    "message": "The team name must be a string. (and 4 more errors)",
    "errors": {
        "team_name": [
            "The team name must be a string.",
            "The team name must be at least 1 characters."
        ],
        "authorization.role": [
            "The selected authorization.role is invalid."
        ],
        "users.0.email": [
            "The users.0.email field is required."
        ],
        "users.2.email": [
            "The users.2.email must be a valid email address."
        ]
    }
}
```

上記 JSON を JS 側で適宜加工して、ユーザーにエラーメッセージを表示すれば良い事になります。

