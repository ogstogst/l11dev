ドキュメント：[本家サイト](https://laravel.com/docs/11.x/session) [日本語](https://readouble.com/laravel/11.x/ja/session.html)

セッションとは、ユーザーがアクセスしている間、そのユーザーを追跡する為に保存するデータです。例えば、ログイン状態を保持する際などに利用します。

Laravel では、簡単にセッションを利用する事ができます。ここでは、基本的な幾つかのセッション用メソッドを紹介して行きます。

（その前に）Laravel 11 のデフォルトでは、データベースにセッションを保存するように変更されています。もしデータベースではなく、ファイルに保存する方を好む場合は、`.env` ファイルにて `SESSION_DRIVER=file` と変更しましょう。
（こういった土台関連のファイルは、メジャーバージョンアップでなくても、サクッと変更される事もあります）

セッションを利用するメソッドは、同じ事をするにも3通り程あります。

例：セッションを取得する
```php
use Illuminate\Support\Facades\Session;

// ファサード経由
$value = Session::get('key');

// $request 経由
$value = $request->session()->get('key');

// session() ヘルパー経由
$value = session()->get('key');
```

以下では、session() ヘルパー関数を使ったやり方での紹介です。

```php
// セッションを設定
session(['key' => 'value']);
session()->put('key', 'value');

// 全てのセッションを取得
$data = session()->all();

// 一部のみ取得
$data = session()->only(['username', 'email']);

// 除外したもの以外を取得
$data = session()->except(['username', 'email']);

// セッションから削除する
session()->forget('name');  // 配列形式 (['foo', 'bar']) で複数指定可能
```

### フラッシュデータ
以下は、フラッシュ用セッション（次のリクエストで自動で消されるセッション）の取扱い

```php
// 設定する
session()->flash('status', '登録しました');

// リダイレクト用のメソッドに with() を繋げて設定することもできます
return redirect('home')->with('status', '登録しました');
```

フラッシュ用のデータは、view 側では以下のように使用します。

例：もしセッションにデータがある場合に、出力する例
```html
@session('status')
  <p>
    {{ $value }}
  </p>
@endsession


～ Ver.10.38 未満では下記で ～

@if(session('status'))
  <p>
    {{ session('status') }}
  </p>
@endif
```
