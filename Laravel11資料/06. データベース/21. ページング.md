ドキュメント：[本家サイト](https://laravel.com/docs/11.x/pagination) [日本語](https://readouble.com/laravel/11.x/ja/pagination.html)

数多くあるデータを1ページに表示せず、ページ送りにする事をページングやページネーション（or パジネーション）などと呼びます。Laravel には、用途に応じて以下の3タイプのページング機能が用意されています。

1. ナンバーリンク付きのページング（よく見るタイプ。全件カウントする分、他より処理は重たくなります）
2. 次へ、前へのみのページング（Simple Pagination）
3. 大量のデータ向き又は無限スクロール向き（Cursor Pagination）

ここでは、1番で見て行きます。

## ページングの実装
基本は2ステップです。Laravel 8 以降、デフォルトでは、Tailwindcss のスタイルで出力されます。

controller 等
```php
// ページングを利用する際は、->paginate(1ページ辺りのデータ件数); と記述する。
$users = User::paginate(2);

return view('welcome', compact('users'));
```

view 側
```php
<script src="https://cdn.tailwindcss.com"></script>

@foreach($users as $user)
    <p>{{ $user->name }}</p>
@endforeach

{{ $users->links() }}
```

### その他情報
#### Bootstrap のスタイルにする場合

AppServiceProvider
```php
use Illuminate\Pagination\Paginator;

public function boot(): void
{
    Paginator::useBootstrapFive();
    Paginator::useBootstrapFour();
}
```

#### デザイン（スタイル）を変更する
`php artisan vendor:publish --tag=laravel-pagination` コマンドでページング用の view ファイルが、`resources/views/vendor/pagination` フォルダに出力されます。
その中の必要なファイル（例：tailwind.blade.php）を編集する事で、デザインを変更する事ができます。

又は、`->links()` メソッドに自作したテンプレートのファイル名を指定する事ができます。
```php
{{ $users->links('view.name') }}
 
データを追加で渡す場合
{{ $users->links('view.name', ['foo' => 'bar']) }}
```

テンプレート内では、`$paginator` 変数が自動で使えます。
どのようなメソッドが利用できるかは、ドキュメントで確認下さい。

#### ページングのリンクにクエリ文字列を付加する場合
検索機能を実装した場合、ページングの各リンクにユーザーが入力した情報（クエリ文字列）を付与したくなります。
その場合、`withQueryString` メソッドを付ける事で実現できます。

```php
{{ $users->withQueryString()->links() }}
```